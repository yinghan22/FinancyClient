import{d as E,r as m,a as C,c as I,w as n,k as l,o as S,b as r,g as w,h as c,u as k,H as B,p as N,n as $,_ as z}from"./index-b1074072.js";const M=i=>(N("data-v-6fb3c791"),i=i(),$(),i),U=M(()=>w("h3",null,"登录",-1)),j={style:{width:"100%",height:"100%",display:"flex","justify-content":"flex-end"}},F=E({__name:"index",setup(i){const u=k(),_=B(),x=(t,e,o)=>{if(e=e.trim(),e)o();else return o(new Error("请输入您的工号"))},y=(t,e,o)=>{if(e=e.trim(),e){if(e.length<6)return o(new Error("请重新输入您的密码"));o()}else return o(new Error("请输入您的密码"))},s=m({id:"",password:""}),a=C(),g=m({id:[{validator:x,trigger:"blur"}],password:[{validator:y,trigger:"blur"}]}),v=t=>{t&&t.resetFields()},b=t=>{t&&t.validate(e=>{e&&u.dispatch("login",{id:s.id,password:s.password,success(){_.push(`/${u.getters.userinfo.usertype}`)},error(){_.push("/login")}})})};return(t,e)=>{const o=l("el-input"),p=l("el-form-item"),f=l("el-button"),V=l("el-form"),h=l("el-col");return S(),I(h,{span:9,style:{border:"1px solid #EEE","border-radius":"5px",padding:"10px"}},{default:n(()=>[U,r(V,{ref_key:"form_ref",ref:a,model:s,rules:g},{default:n(()=>[r(p,{label:"工号",prop:"id"},{default:n(()=>[r(o,{modelValue:s.id,"onUpdate:modelValue":e[0]||(e[0]=d=>s.id=d),modelModifiers:{lazy:!0}},null,8,["modelValue"])]),_:1}),r(p,{label:"密码",prop:"password"},{default:n(()=>[r(o,{modelValue:s.password,"onUpdate:modelValue":e[1]||(e[1]=d=>s.password=d),modelModifiers:{lazy:!0},type:"password"},null,8,["modelValue"])]),_:1}),r(p,null,{default:n(()=>[w("div",j,[r(f,{type:"danger",onClick:e[2]||(e[2]=d=>v(a.value))},{default:n(()=>[c("重置 ")]),_:1}),r(f,{type:"primary",onClick:e[3]||(e[3]=d=>b(a.value))},{default:n(()=>[c("登录 ")]),_:1})])]),_:1})]),_:1},8,["model","rules"])]),_:1})}}});const R=z(F,[["__scopeId","data-v-6fb3c791"]]);export{R as default};
